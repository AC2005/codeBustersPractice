<!DOCTYPE html>
<html lang="en">

	<head>
		
	    <meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<meta http-equiv="x-ua-compatible" content="ie=edge">

		<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.light_green-lime.min.css" />
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
		<script defer src="https://code.getmdl.io/1.3.0/material.min.js"></script>

		<title>Code Busters</title>

		<!-- Uses a transparent header that draws on top of the layout's background -->
		<style>
		.demo-layout-transparent {
		  background: url('../assets/demos/transparent.jpg') center / cover;
		}
		.demo-layout-transparent .mdl-layout__header,
		.demo-layout-transparent .mdl-layout__drawer-button {
		  /* This background is dark, so we set text to white. Use 87% black instead if
		     your background is light. */
		  color: white;
		}
		.mdl-layout, .mdl-layout__header {
			background: #56ab2f;  /* fallback for old browsers */
background: -webkit-linear-gradient(to right, #a8e063, #56ab2f);  /* Chrome 10-25, Safari 5.1-6 */
background: linear-gradient(to right, #a8e063, #56ab2f); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */

		}

		.box {
			opacity: 0.5;
			width: 50vh;
			height: 50vh;
			min-width: 60px;
			float: left;
			background-color: white;
			border-radius: 40px;
			margin: 0 auto;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		p {
			font-size: 35vh;
		}

		.container {
			margin-top: 10%;
			display: flex;
			align-items: center;
			justify-content: center;
		}

		.page-content {
			text-align: center;
		}

		#correct {
			position: absolute; 
			left: 32%;
			top: 7vh;
			font-size: 20vh;
			z-index: -1;
			color: green;
		}

		</style>

	</head>

	<body onload="start()">

		<div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
		  <header class="mdl-layout__header">
		    <div class="mdl-layout__header-row">
		      <!-- Title -->
		      <span class="mdl-layout-title">Code Busters Practice</span>
		      <!-- Add spacer, to align navigation to the right -->
		      <div class="mdl-layout-spacer"></div>
		      <!-- Navigation. We hide it in small screens. -->
		      <nav class="mdl-navigation mdl-layout--large-screen-only">
		        <a class="mdl-navigation__link" href="">Number - Letter</a>
		        <a class="mdl-navigation__link" href="">Modular Inverse</a>
		        <a class="mdl-navigation__link" href="">Atbash</a>
		      </nav>
		    </div>
		  </header>
		  <div class="mdl-layout__drawer">
		    <span class="mdl-layout-title">Code Busters</span>
		    <nav class="mdl-navigation">
		        <a class="mdl-navigation__link" href="">Number - Letter</a>
		        <a class="mdl-navigation__link" href="">Modular Inverse</a>
		        <a class="mdl-navigation__link" href="">Atbash</a>
		    </nav>
		  </div>
		  <main class="mdl-layout__content">
		    <div class="page-content">

		    	<p id="correct">Correct</p>
		    	
		    	<div class="container">
			    	<div class="box"><p id="num-letter">5</p></div>
		    	</div>

		    	<center><p style="width: 28%; margin-top: 3vh">
					<input class="mdl-slider mdl-js-slider" type="range" id="response" min="0" max="25" value="0" step="1">
					<br>
					<p id="response-text" style="font-size: 20vh; margin-top: 5vh;">A</p>
				</p></center>
		    	

		    </div>
		  </main>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script type="text/javascript">

			var randInt;

			function start() {
				reset();
				$('#correct').hide();
			}

			function reset() {
				randInt = Math.floor(Math.random() * 26);
				$('#num-letter').html(randInt);
				animateCSS('#num-letter', 'bounceIn');
			}

			$('#response').change(function() {

				animateSpeed('#response-text', 'fadeOutUp', 'faster', () => animateSpeed('#response-text', 'fadeInDown', 'faster'));
				$('#response-text').html(String.fromCharCode(parseInt($('#response').val())+65));
				if(randInt == parseInt($('#response').val())) {
				  	$('#correct').show();
				  	animateCSS('#correct', 'bounceIn', () => {
				  		animateCSS('#correct', 'bounceOut')
				  		$('#correct').hide();
				  	});
					reset();
				}
			});

			function animateCSS(element, animationName, callback) {
			    const node = document.querySelector(element)
			    node.classList.add('animated', animationName)

			    function handleAnimationEnd() {
			        node.classList.remove('animated', animationName)
			        node.removeEventListener('animationend', handleAnimationEnd)

			        if (typeof callback === 'function') callback()
			    }

			    node.addEventListener('animationend', handleAnimationEnd)
			}

			function animateSpeed(element, animationName, speed, callback) {
			    const node = document.querySelector(element)
			    node.classList.add('animated', animationName)
			    node.classList.add(speed);

			    function handleAnimationEnd() {
			        node.classList.remove('animated', animationName)
			    	node.classList.remove(speed);
			        node.removeEventListener('animationend', handleAnimationEnd)

			        if (typeof callback === 'function') callback()
			    }

			    node.addEventListener('animationend', handleAnimationEnd)
			}

		</script>

	</body>

</html>

